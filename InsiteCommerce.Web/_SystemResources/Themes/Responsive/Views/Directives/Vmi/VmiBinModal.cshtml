<div id="vmi-bin-modal" class="reveal-modal vmi-bin-modal" data-reveal data-reveal-init>
    <div class="modal-wrap" ng-init="vm.cannotOrderConfigurableError = '[% siteMessage 'Vmi_CannotOrderConfigurable' %]';
              vm.cannotOrderStyledError = '[% siteMessage 'Vmi_CannotOrderStyled' %]';
              vm.productNotFoundError = '[% siteMessage 'Product_NotFound' %]'">
        <h2 ng-bind="vm.vmiBin.id ? '[% translate 'Edit Product' EscapeSingleQuotes %]' : '[% translate 'Add Product' EscapeSingleQuotes %]'"></h2>
        <div class="pop-content">
            <form name="vm.vmiBinForm" ng-submit="vm.vmiBin.id ? vm.updateVmiBin() : vm.addVmiBin()" novalidate>
                <div class="row">
                    <div class="columns controls-block">
                        <div class="medium-12 large-6 columns">
                            <div>
                                <label>[% translate 'Product Name' %]</label>
                                <div class="qo-search-input">
                                    <div class="icon-wrapper" ng-if="!vm.vmiBin.id">
                                        <i class="icon-search"></i>
                                    </div>
                                    <input id="qo-search-view" type="text" name="textfield" class="qo-searchbox"
                                           ng-init="vm.autocompleteOptions.placeholder = '[% translate 'Search by keyword or item #' EscapeSingleQuotes %]'"
                                           kendo-auto-complete k-options="vm.autocompleteOptions" ng-model="vm.addingSearchTerm"
                                           ng-change="vm.addingSearchTermChanged()" isc-enter="vm.onEnterKeyPressedInAutocomplete()"
                                           ng-disabled="vm.vmiBin.id" />
                                </div>
                                <p class="error">
                                    <span class="field-validation-error" ng-show="vm.errorMessage" ng-bind="vm.errorMessage"></span>
                                    <span class="success-message" ng-show="vm.showSuccessMessage">[% translate 'Item was added.' %]</span>
                                </p>
                            </div>
                        </div>
                        <div class="medium-12 large-6 columns small-inputs-group">
                            <div class="medium-4 large-4 column">
                                <label>[% translate 'Bin #' %]</label>
                                <input maxlength="25" ng-model="vm.binNumber" type="text" />
                            </div>
                            <div class="medium-4 large-4 column">
                                <label>[% translate 'Min' %]</label>
                                <input ng-model="vm.minimumQty" type="number" />
                            </div>
                            <div class="medium-4 large-4 column">
                                <label>[% translate 'Max' %]</label>
                                <input ng-model="vm.maximumQty" type="number" />
                            </div>
                        </div>
                    </div>
                    <div class="columns">
                        <div class="columns form-errors-block" ng-show="vm.formErrorMessage">
                            <span class="field-validation-error" ng-bind="vm.formErrorMessage"></span>
                        </div>
                    </div>
                    <div class="row btns">
                        <a href="#" ng-if="vm.showImport" ng-click="vm.openImportModal()">[% translate 'Import CSV' %]</a>
                        <button ng-click="vm.closeModal()" class="btn tertiary btn-cancel" type="button">[% translate 'Cancel' %]</button>
                        <button ng-disabled="!vm.itemToAdd" class="btn primary" type="submit" ng-bind="vm.vmiBin.id ? '[% translate 'Save' EscapeSingleQuotes %]' : '[% translate 'Add Product' EscapeSingleQuotes %]'"></button>
                    </div>
                </div>
            </form>
            <a class="close-reveal-modal">&#215;</a>
        </div>
    </div>
</div>